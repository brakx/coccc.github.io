<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Call of Cthulhu Character Creator</title>
  <link rel="stylesheet" href="style.css" />

  <style>
    /* --- DARK MODE BASELINE --- */
    body.dark {
      background: #0f0f0f;
      color: #e6e6e6;
    }

    body.dark .section {
      background: #1a1a1a;
      border: 1px solid #333;
      box-shadow: 0 0 8px rgba(0,0,0,0.6);
    }

    body.dark input,
    body.dark select,
    body.dark button {
      background: #222;
      color: #e6e6e6;
      border: 1px solid #444;
    }

    body.dark button:hover {
      background: #333;
    }

    /* --- GENERAL LAYOUT --- */
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
      color: #222;
      transition: background 0.3s, color 0.3s;
    }

    h1 {
      margin-bottom: 20px;
      text-align: center;
      letter-spacing: 1px;
    }

    .section {
      margin-bottom: 30px;
      padding: 20px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
      transition: background 0.3s, box-shadow 0.3s;
    }

    .section h2 {
      margin-top: 0;
      margin-bottom: 10px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
    }

    /* --- SKILL ROWS --- */
    .skill-row,
    .weapon-row,
    .item-row {
      display: grid;
      grid-template-columns: 1fr 60px 60px 60px 60px auto;
      gap: 6px;
      margin-bottom: 4px;
      align-items: center;
    }

    .skill-group {
      margin-left: 20px;
      margin-bottom: 10px;
    }

    /* --- TABLES --- */
    table {
      border-collapse: collapse;
      width: 100%;
      max-width: 500px;
    }

    table th, table td {
      padding: 6px;
      border-bottom: 1px solid #ccc;
    }

    body.dark table th, body.dark table td {
      border-bottom: 1px solid #444;
    }

    /* --- BUTTONS --- */
    button {
      cursor: pointer;
      padding: 6px 12px;
      border-radius: 4px;
      border: 1px solid #888;
      background: #e0e0e0;
      transition: background 0.2s;
    }

    button:hover {
      background: #d0d0d0;
    }

    body.dark button {
      background: #222;
      border-color: #555;
    }

    body.dark button:hover {
      background: #333;
    }

    /* --- INPUTS --- */
    input, select {
      padding: 4px;
      border-radius: 4px;
      border: 1px solid #aaa;
    }

    body.dark input, body.dark select {
      border-color: #444;
    }

    /* --- PORTRAIT --- */
    #portraitPreview {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border: 2px solid #555;
      border-radius: 4px;
      background: #000;
    }

    body.dark #portraitPreview {
      border-color: #777;
    }
  </style>
</head>

<body class="aesthetic-clean">

  <h1>Call of Cthulhu Character Creator</h1>

  <!-- ========================================================= -->
  <!-- CHARACTER INFO -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Character Info</h2>

    <label>Name:</label>
    <input id="charName" type="text" />
    <button id="btnRandomName">Random Name</button>
    <br><br>

    <label>Gender:</label>
    <select id="charGender">
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="neutral">Neutral</option>
    </select>

    <label>Age:</label>
    <input id="charAge" type="number" min="1" />
    <br><br>

    <div id="ageChoiceContainer" style="display:none;">
      <label>Teen Penalty:</label>
      <select id="agePenalty">
        <option value="STR">STR</option>
        <option value="SIZ">SIZ</option>
      </select>

      <label>Teen Bonus:</label>
      <select id="ageBonus">
        <option value="DEX">DEX</option>
        <option value="APP">APP</option>
      </select>
    </div>

    <br>

<label>Region:</label>
<select id="charRegion">
  <option value="">-- Select Region --</option>
  <option value="north_america">North American</option>
  <option value="latin_america">Latin American</option>
  <option value="europe">European</option>
  <option value="africa">African</option>
  <option value="asia">Asian</option>
</select>

    <label>Profession:</label>
    <select id="charProfession"></select>
    <br><br>

    <label>Credit Rating Range:</label>
    <input id="creditRatingRange" type="text" readonly />
<br><br>

<label>Background:</label><br>
<textarea id="charBackground" rows="5" style="width:100%;"></textarea>

  </div>

  <!-- ========================================================= -->
  <!-- PORTRAIT -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Portrait</h2>

    <img id="portraitPreview" src="" alt="Portrait" />
    <br><br>

    <label>Portrait URL:</label>
    <input id="portraitUrl" type="text" style="width:300px;" />
    <button id="btnApplyPortrait">Apply</button>
    <br><br>

    <label>Upload File:</label>
    <input id="portraitFile" type="file" accept="image/*" />
  </div>

  <!-- ========================================================= -->
  <!-- STATS -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Stats</h2>

    <label>Roll Mode:</label>
    <select id="statMode">
      <option value="raw">Raw</option>
      <option value="average">Average</option>
    </select>
    <button id="btnRollStats">Roll Stats</button>
    <br><br>

    <table>
      <tr><th>Stat</th><th>Raw</th><th>Modified</th></tr>
      <tr><td>STR</td><td><input id="statSTR_raw"></td><td><input id="statSTR_mod"></td></tr>
      <tr><td>CON</td><td><input id="statCON_raw"></td><td><input id="statCON_mod"></td></tr>
      <tr><td>DEX</td><td><input id="statDEX_raw"></td><td><input id="statDEX_mod"></td></tr>
      <tr><td>APP</td><td><input id="statAPP_raw"></td><td><input id="statAPP_mod"></td></tr>
      <tr><td>POW</td><td><input id="statPOW_raw"></td><td><input id="statPOW_mod"></td></tr>
      <tr><td>SIZ</td><td><input id="statSIZ_raw"></td><td><input id="statSIZ_mod"></td></tr>
      <tr><td>INT</td><td><input id="statINT_raw"></td><td><input id="statINT_mod"></td></tr>
      <tr><td>EDU</td><td><input id="statEDU_raw"></td><td><input id="statEDU_mod"></td></tr>
    </table>

    <br>
    <button id="btnApplyAge">Apply Age Modifiers</button>
    <button id="btnCalcDerived">Calculate Derived</button>

    <h3>Derived Stats</h3>
    <label>HP:</label><input id="derivedHP" readonly>
    <label>MP:</label><input id="derivedMP" readonly>
    <label>SAN:</label><input id="derivedSAN" readonly>
    <label>Luck:</label><input id="derivedLuck" readonly>
    <label>DB:</label><input id="derivedDB" readonly>
    <label>Build:</label><input id="derivedBuild" readonly>
    <label>Move:</label><input id="derivedMove" readonly>
  </div>

  <!-- ========================================================= -->
  <!-- SKILLS -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Skills</h2>
    <div id="skillsContainer"></div>

    <h3>Custom Skills</h3>
    <input id="customSkillName" placeholder="Skill Name">
    <input id="customSkillBase" type="number" value="1">
    <button id="btnAddCustomSkill">Add Custom Skill</button>

    <div id="customSkillsContainer"></div>
  </div>

  <!-- ========================================================= -->
  <!-- WEAPONS -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Weapons</h2>
    <button id="btnAddWeapon">Add Weapon</button>
    <div id="weaponsList"></div>
  </div>

  <!-- ========================================================= -->
  <!-- INVENTORY -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Inventory</h2>
    <button id="btnAddItem">Add Item</button>
    <div id="itemsList"></div>
  </div>

  <!-- ========================================================= -->
  <!-- THEME + AESTHETIC -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Appearance</h2>

    <button id="themeToggle">Dark Mode</button>

    <label>Aesthetic:</label>
    <select id="aestheticMode">
      <option value="clean">Clean</option>
      <option value="typewriter">Typewriter</option>
      <option value="hybrid">Hybrid</option>
    </select>
  </div>

  <!-- ========================================================= -->
  <!-- SAVE / LOAD -->
  <!-- ========================================================= -->
  <div class="section">
    <h2>Save / Load</h2>

    <button id="btnSave">Save</button>
    <button id="btnLoad">Load</button>
    <button id="btnExport">Export</button>
    <button id="btnImport">Import</button>

    <input id="fileImport" type="file" accept="application/json" style="display:none;">
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>